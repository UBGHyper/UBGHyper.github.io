<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>Play Game - UBGHyper</title>
      <meta name="viewport" content="width=device-width,initial-scale=1.0">
      <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@700;400&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="../assets/css/main.css">
      <link rel="icon" type="image/x-icon" href="assets/img/icon/main.png">
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8895667704497452"
         crossorigin="anonymous"></script>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-VE9J0CCHWZ"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <style>
         body { margin:0; background: #181a20; color:#fff;}
         nav {
         display:flex;
         gap:18px;
         background:#23232a;
         padding: 16px 0 8px 20px;
         }
         nav a {
         color: var(--color-page-heading);
         text-decoration: none;
         padding: 9px 20px;
         border-radius: 18px;
         background: none;
         display: inline-block;
         transition: color 0.18s, 
         box-shadow 0.3s;
         position: relative;
         z-index: 1;
         }
         nav a.active,nav a:hover { background:#ffd09c; color:#23232a;}
         .game-frame {
         background: #22242a;
         border-radius: 18px;
         box-shadow: 0 6px 32px #001a4150;
         padding: 0;
         max-width: 1200px;
         margin: 40px auto 0 auto;
         overflow: hidden;
         border-style: solid;
         border-color: #ffd09c;
         border-width: 2px 2px 8px 2px;
         position: relative;
         }
         /* --- playtime graph new style --- */
         .chart-container {
         max-width: 900px;
         margin: 32px auto 32px auto;
         background: linear-gradient(135deg,#23232e 65%,#24243b 100%);
         border-radius: 17px;
         padding: 18px 18px 40px 18px;
         box-shadow: 0 6px 20px #000c, 0 1px 2px #f1ba9030 inset;
         border: 2px solid #ffd09c55;
         }
         #playtimeChart {
         background: #171818;
         border-radius: 11px;
         width: 100%;
         max-width: 850px;
         height: 260px;
         margin: auto;
         display: block;
         box-shadow: 0 3px 24px #ffd09c24;
         border: 1.2px solid #ffd09c30;
         }
         .game-iframe {
         width: 100%;
         height: 75vh;
         border: none;
         background: #121212;
         border-radius: 0 0 16px 16px;
         display: block;
         margin: 0;
         max-height: 80vh;
         }
         .fullscreen-btn {
         position: absolute;
         bottom: 14px;
         right: 18px;
         z-index: 10;
         background: #16171c;
         color: #ffd09c;
         border: none;
         border-radius: 6px;
         padding: 7px 14px;
         box-shadow: 0 2px 8px #0006;
         cursor: pointer;
         font-size: 1.1em;
         opacity: 0.95;
         transition: background 0.1s, opacity 0.2s;
         display: flex;
         align-items: center;
         gap: 6px;
         }
         .fullscreen-btn:hover, .fullscreen-btn:focus {
         background: #ffd09c;
         color: #16171c;
         opacity: 1;
         }
         .fullscreen-btn svg {
         width: 18px;
         height: 18px;
         vertical-align: middle;
         fill: currentColor;
         }
         /* Info panel below iframe */
         .game-info-container {
         max-width:1200px;
         margin: 18px auto 0 auto;
         padding: 26px 28px 20px 28px;
         background: #191a22;
         border-radius: 16px;
         text-align: left;
         }
         .game-title {
         font-family: 'Rubik', sans-serif;
         font-weight: 700;
         font-size: 2.2em;
         color: #ffd09c;
         line-height: 1.1;
         letter-spacing: .5px;
         margin: 0;
         flex: 1 1 auto;
         }
         .game-title-bar {
         display: flex;
         align-items: center;
         justify-content: space-between;
         gap: 16px;
         padding-bottom: 7px;
         }
         .game-author {
         font-size: 1em;
         margin-top: 4px;
         color: #bda893;
         font-style: italic;
         letter-spacing: .1em;
         }
         .game-playtime {
         margin-top: 16px;
         font-family: Rubik, sans-serif;
         color: #ffd09c;
         font-size: 1.15em;
         background: #23232a;
         border-radius: 20px;
         display: inline-flex;
         align-items: center;
         gap: 8px;
         padding: 7px 17px 7px 13px;
         font-weight: 700;
         box-shadow: 0 2px 16px #ffd09c22;
         position: relative;
         transition: background 0.14s;
         letter-spacing: 0.05em;
         }
         .playtime-clock-icon {
         display: inline-block;
         margin-right: 0px;
         width: 22px;
         height: 22px;
         vertical-align: -5px;
         fill: #ffd09c;
         filter: drop-shadow(0 2px 4px #9f613c49);
         }
         /* Details & Recommendations Row */
         .game-desc-recommend-row {
         max-width: 1200px;
         margin:18px auto 0 auto;
         width: 100%;
         display: flex;
         gap: 32px;
         justify-content: space-between;
         align-items: flex-start;
         background: #18181e;
         padding: 30px 28px 32px 28px;
         box-sizing: border-box;
         border-radius: 15px;
         }
         .game-desc-panel, .game-recommend-panel {
         flex: 1 1 0;
         background: #21212a;
         border-radius: 13px;
         box-shadow: 0 1px 6px #1b151675;
         padding: 20px 22px 16px 22px;
         min-width: 0;
         }
         .desc-title {
         font-family: 'Rubik', sans-serif;
         color: #ffd09c;
         font-weight: 700;
         font-size: 1.06em;
         margin-bottom: 10px;
         letter-spacing: .1em;
         }
         #descDetails {
         color: #ffe3bd;
         font-family: Rubik, sans-serif;
         font-size: 1.08em;
         line-height: 1.65;
         white-space: pre-line;
         margin-bottom: 0;
         }
         #recommendedList {
         display: flex; flex-direction: column;
         gap: 12px;
         }
         .recommend-game-link {
         display: flex; align-items: center;
         background: #18181d;
         border-radius: 8px;
         color: #ffd09c;
         font-family: 'Rubik', sans-serif;
         font-size: 1.01em;
         font-weight: 600;
         padding: 10px 12px;
         text-decoration: none;
         gap: 10px;
         transition: background 0.11s, box-shadow 0.15s  ;
         border: 1.2px solid #261e19;
         }
         .recommend-game-link:hover {
         background: #ffd09c;
         color: #271306;
         box-shadow: 0 4px 20px #ffd09c2a;
         }
         .recommend-thumb {
         width: 40px; min-width: 40px;
         height: 40px;
         border-radius: 7px;
         box-shadow: 0 0 2px #000c;
         background: #242430;
         object-fit: cover;
         margin-right: 5px;
         }
         /* --- Recently Played Section [ENHANCED] --- */
         .recently-played-section {
         max-width: 1200px;
         margin: 54px auto 32px auto;
         background: linear-gradient(135deg,#1b1e26 70%,#23232d 100%);
         border-radius: 20px;
         padding: 24px 26px 20px 26px;
         box-shadow: 0 4px 24px #000a, 0 0px 1.5px #ffd09c33;
         position: relative;
         overflow: hidden;
         }
         .recently-title {
         color: #ffd09c;
         font-family: Rubik,sans-serif;
         font-size: 1.17em;
         margin-bottom: 18px;
         font-weight: 700;
         letter-spacing: 0.13em;
         display: flex;
         align-items: center;
         gap: 8px;
         }
         .recently-title span {
         font-size: 1.26em;
         }
         .recently-games {
         display: flex;
         flex-wrap: wrap;
         gap: 21px 19px;
         padding-bottom: 13px;
         justify-content: flex-start;
         }
         .recent-game-card {
         display: flex;
         flex-direction: column;
         align-items: center;
         background: linear-gradient(120deg, #24242a 74%, #2b2120 100%);
         border-radius: 14px;
         padding: 15px 19px 16px 19px;
         box-shadow: 0 4px 18px #130a1537;
         border: 2.2px solid #ffdfbc18;
         transition: box-shadow 0.17s, background 0.17s, transform 0.11s;
         text-decoration: none;
         color: #ffd09c;
         min-width: 140px;
         max-width: 164px;
         flex: 1 1 0;
         position: relative;
         cursor: pointer;
         overflow: visible;
         }
         .recent-game-card::after {
         content: "";
         display: block;
         position: absolute;
         left: 8px; top: 8px;
         width: 12px; height: 12px;
         background: #ffd09c99;
         border-radius: 50%;
         box-shadow: 0 1px 6px #ffd09c55;
         opacity: 0;
         transition: opacity 0.18s;
         }
         .recent-game-card:hover,
         .recent-game-card:focus {
         background: linear-gradient(121deg, #ffd09c 81%, #f8cd8e 100%);
         color: #2d1607;
         box-shadow: 0 6px 32px #ffd09c4c;
         border-color: #ffd09cb5;
         transform: translateY(-3px) scale(1.04);
         z-index: 2;
         }
         .recent-game-card:hover .recent-thumb,
         .recent-game-card:focus .recent-thumb {
         border-color: #7c502b;
         box-shadow: 0 3px 14px #ffd09c1c;
         }
         .recent-game-card:hover::after, .recent-game-card:focus::after {
         opacity: 1;
         }
         .recent-thumb {
         width: 74px;
         height: 74px;
         border-radius: 11px;
         margin-bottom: 12px;
         background: #18181e;
         object-fit: cover;
         box-shadow: 0 2.5px 11px #0007, 0 0.5px 1.5px #ffd09c33;
         border: 2.6px solid #ebce9e;
         transition: border 0.17s, box-shadow 0.16s;
         }
         .recent-game-name {
         text-align: center;
         font-family: Rubik,sans-serif;
         font-size: 1.08em;
         max-width: 104px;
         font-weight: 700;
         margin-bottom: 3px;
         letter-spacing: .01em;
         overflow: hidden;
         text-overflow: ellipsis;
         white-space: nowrap;
         }
         .recent-game-author {
         font-size: 0.92em;
         color: #987947;
         text-align: center;
         max-width: 108px;
         overflow: hidden;
         text-overflow: ellipsis;
         white-space: nowrap;
         opacity: 0.92;
         }
         .recent-last-played {
         font-size: 0.76em;
         color: #d4be85;
         background: #18171197;
         border-radius: 10px;
         padding: 2px 8px;
         margin-top: 7px;
         opacity: .92;
         font-family: Rubik,sans-serif;
         }
         @media (max-width:900px){
         .recent-game-card {min-width:110px;max-width:120px;padding:7px 6px;}
         .recent-thumb {width:48px;height:48px;}
         .recent-game-name {max-width:80px;}
         .recent-game-author {max-width:80px;}
         }
         @media (max-width:650px){
         .recently-games {gap: 7px 6px;}
         .recent-game-card {min-width:80px;max-width:98px;}
         .recent-thumb {width:34px;height:34px;}
         .recent-game-name,.recent-game-author {max-width:58px;}
         }
         @media (max-width:900px){
         .game-frame { border-radius: 10px; }
         .game-iframe { height: 62vw; }
         .game-info-container,
         .game-desc-recommend-row { padding: 12px 2vw 10px 2vw;}
         }
         @media (max-width: 700px) {
         .game-title-bar { flex-direction: column; align-items: flex-start; gap: 8px; }
         .game-desc-recommend-row { flex-direction: column; gap:20px; }
         }
         @media (max-width: 750px) {
         .recently-games {gap: 9px;}
         .recent-game-card {min-width:85px;max-width:102px;padding:6px 4px;}
         .recent-thumb {width:35px;height:35px;}
         .recent-game-name {max-width:64px;}
         .recent-game-author {max-width:64px;}
         }
      </style>
   </head>
<script>
const gameKey = new URLSearchParams(location.search).get('game');
let t0 = Date.now();
window.addEventListener('beforeunload', function() {
  if (!gameKey) return;
  let t1 = Date.now();
  let dt = Math.max(0, t1 - t0);
  let stats = JSON.parse(localStorage.getItem('gameStats') || '{}');
  stats[gameKey] = stats[gameKey] || { clicks: 0, time: 0 };
  stats[gameKey].time += dt;
  localStorage.setItem('gameStats', JSON.stringify(stats));
});
</script>
   <body>
      <nav>
         <a href="index.html" class="active">Home</a>
         <a href="games.html">All Games</a>
         <a href="categories.html">Categories</a>
         <a href="popular.html">Popular</a>
         <a href="about.html">About</a>
      </nav>
      <div class="game-frame">
         <iframe class="game-iframe" id="frame" allowfullscreen></iframe>
         <button class="fullscreen-btn" id="fullscreenBtn" title="Fullscreen">
            <svg viewBox="0 0 24 24">
               <path d="M7 14H5v5h5v-2H7v-3zm-2-7v5h2V7h3V5H5v2zm12 10h-3v2h5v-5h-2v3zm0-10v3h2V5h-5v2h3z"/>
            </svg>
            Fullscreen
         </button>
      </div>
      <div class="game-info-container">
         <div class="game-title-bar">
            <div class="game-title" id="gameTitle"></div>
         </div>
         <div class="game-author" id="gameAuthor"></div>
         <div class="game-playtime" id="gamePlaytime">
         </div>
      </div>
      <div class="game-desc-recommend-row">
         <div class="game-desc-panel">
            <div class="desc-title">About this game</div>
            <div id="descDetails"></div>
         </div>
         <div class="game-recommend-panel">
            <div class="desc-title">Recommended Games</div>
            <div id="recommendedList"></div>
         </div>
      </div>
      <!-- UPDATED: Playtime Graph gets style container -->
      <div class="chart-container">
         <h2 class="chart-heading">
            Playtime per Day
         </h2>
         <canvas id="playtimeChart"></canvas>
      </div>
      <!-- NEW: Recently Played Games section -->
      <div class="recently-played-section" id="recentlyPlayedSection" style="display:none;">
         <div class="recently-title"><span style="font-size:1.1em;">&#x1F4DA;</span> Recently Played</div>
         <div class="recently-games" id="recentlyPlayedGames"></div>
      </div>
      <script>
         document.getElementById('fullscreenBtn').addEventListener('click', function() {
           const iframe = document.getElementById('frame');
           if      (iframe.requestFullscreen)        iframe.requestFullscreen();
           else if (iframe.webkitRequestFullscreen)  iframe.webkitRequestFullscreen();
           else if (iframe.mozRequestFullScreen)     iframe.mozRequestFullScreen();
           else if (iframe.msRequestFullscreen)      iframe.msRequestFullscreen();
         });
         
         // ------ Playtime Format: only show largest time unit -----
         function formatSeconds(sec) {
           if (sec < 60) return `${sec} second${sec===1?'':'s'}`;
           if (sec < 3600) {
             const m = Math.floor(sec/60);
             return `${m} minute${m===1?'':'s'}`;
           }
           const h = Math.floor(sec/3600);
           return `${h} hour${h===1?'':'s'}`;
         }
         
         const gamesUrl = "../assets/games.json";
         const params = new URLSearchParams(location.search);
         const slug = params.get("game");
         
         function showNotFound() {
           document.getElementById("gameTitle").textContent = "Game Not Found";
           document.getElementById("frame").style.display = "none";
           document.getElementById("gameAuthor").textContent = "";
         }
         
         let playtimeInterval = null;
         
         // --- IndexedDB Helper ---
         function openPlaytimeDB() {
           return new Promise((resolve, reject) => {
             const req = indexedDB.open("GamePlaytimeDB", 1);
             req.onupgradeneeded = function(e) {
               const db = e.target.result;
               if (!db.objectStoreNames.contains("playtimes")) {
                 db.createObjectStore("playtimes", { keyPath: ["slug", "date"] });
               }
             };
             req.onsuccess = () => resolve(req.result);
             req.onerror = e => reject(e.target.error);
           });
         }
         
         function updatePlaytimeToday(slug) {
           const today = new Date().toISOString().slice(0,10);
           openPlaytimeDB().then(db => {
             const tx = db.transaction("playtimes", "readwrite");
             const store = tx.objectStore("playtimes");
             const key = [slug, today];
             store.get(key).onsuccess = function (e) {
               let data = e.target.result;
               if (!data) data = { slug, date: today, seconds: 0 };
               data.seconds++;
               store.put(data);
               db.close();
             };
           });
         }
         
         function getPlaytimeDays(slug) {
           return new Promise(resolve => {
             openPlaytimeDB().then(db => {
               const tx = db.transaction("playtimes", "readonly");
               const store = tx.objectStore("playtimes");
               const req = store.openCursor();
               const days = [];
               req.onsuccess = function(event) {
                 const cursor = event.target.result;
                 if(cursor) {
                   if(cursor.key[0] === slug) days.push(cursor.value);
                   cursor.continue();
                 } else {
                   db.close();
                   days.sort((a,b) => a.date.localeCompare(b.date));
                   resolve(days);
                 }
               };
             });
           });
         }
         
         let playChart = null;
         function drawPlaytimeChart(playArr) {
           const ctx = document.getElementById('playtimeChart').getContext('2d');
           const labels = playArr.map(x=>x.date);
           const data = playArr.map(x=>Math.round(x.seconds/60*100)/100);
         
           if (playChart) playChart.destroy();
           playChart = new Chart(ctx, {
             type: 'bar',
             data: {
               labels,
               datasets: [{
                 label: 'Minutes Played',
                 backgroundColor: (ctx) => {
                   const gradient = ctx.chart.ctx.createLinearGradient(0,0,0,260);
                   gradient.addColorStop(0, "#ffd09c");
                   gradient.addColorStop(1, "#f4b135");
                   return gradient;
                 },
                 borderColor: '#ffd09c',
                 borderWidth: 3,
                 borderRadius: 10,
                 data,
                 maxBarThickness: 38,
                 minBarLength: 2,
                 hoverBackgroundColor: "#fff0d5",
               }]
             },
             options: {
               responsive: true,
               plugins: {
                 legend: {display:false},
                 tooltip: {
                   backgroundColor: '#23232e',
                   bodyColor: '#ffd09c',
                   titleColor: '#fff',
                   borderColor: "#ffd09c",
                   borderWidth: 1.5,
                   padding: 14,
                   cornerRadius: 8
                 },
                 title: {display: false}
               },
               layout: {padding: {left: 16, right: 15, top: 10, bottom: 14}},
               scales: {
                 x: {
                   ticks: {
                     color: '#ffd09c',
                     font: { family: 'Rubik', weight: 'bold', size: 15 },
                     maxRotation: 0,
                     minRotation: 0
                   },
                   grid: {
                     color: 'rgba(255,208,156,0.09)',
                     borderColor: '#ffd09c77',
                     borderWidth: 1.7
                   }
                 },
                 y: {
                   beginAtZero: true,
                   grace: "35%",
                   ticks: {
                     color: '#ffd09c',
                     font: { family: 'Rubik', size: 14 }
                   },
                   grid: {color:'#2d2231', borderColor:"#ffd09c44"}
                 }
               }
             }
           });
         }
         
         // --- Recently Played Games LocalStorage Logic ---
         function addRecentlyPlayed(game) {
           let arr;
           try {
             arr = JSON.parse(localStorage.getItem("recentlyPlayed") || '[]');
             if (!Array.isArray(arr)) arr = [];
           } catch(e){arr=[];}
           // Remove any previous entry of this game
           arr = arr.filter(g => g.url !== game.url);
           arr.unshift({
             name: game.name,
             url: game.url,
             thumb: game.thumb,
             author: game.author,
             time: Date.now()
           });
           // Keep only last 6
           arr = arr.slice(0,6);
           localStorage.setItem("recentlyPlayed", JSON.stringify(arr));
         }
         
         function loadRecentlyPlayed(currentSlug, gamesData) {
           let arr;
           try {
             arr = JSON.parse(localStorage.getItem("recentlyPlayed") || '[]');
           } catch(e){arr=[];}
           if (!Array.isArray(arr) || arr.length === 0) {
             document.getElementById('recentlyPlayedSection').style.display = "none";
             return;
           }
           // Filter out current game, show others
           const showArr = arr.filter(g => g.url !== currentSlug);
         
           if (!showArr.length) {
             document.getElementById('recentlyPlayedSection').style.display = "none";
             return;
           }
           document.getElementById('recentlyPlayedSection').style.display = "";
           const box = document.getElementById('recentlyPlayedGames');
           box.innerHTML = "";
           for (const g of showArr) {
             // Try to get latest thumb & title from gamesData for consistency (use fallback if outdated)
             let meta = gamesData.find(item => item.url === g.url) || g;
             const a = document.createElement("a");
             a.className = "recent-game-card";
             a.href = `play.html?game=${encodeURIComponent(meta.url)}`;
             a.innerHTML = `
               <img class="recent-thumb" src="${meta.thumb || '../assets/img/icon/main.png'}" alt="${meta.name} icon" loading="lazy">
               <span class="recent-game-name">${meta.name||'Unknown'}</span>
               <span class="recent-game-author">${meta.author||''}</span>
             `;
             box.appendChild(a);
           }
         }
         
         function updatePlaytimeCounter(val) {
           // Update with icon!
           const counter = document.getElementById('gamePlaytime');
           counter.innerHTML = `<svg class="playtime-clock-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="#f2b967" stroke-width="2.5" fill="#191a22"/><path d="M12 7v5l3.5 2" stroke="#ffd09c" stroke-width="2.2" stroke-linecap="round" fill="none"/></svg> <span>Playtime: </span>${val}`;
         }
         
         function loadAndShowPlaytime(slug) {
           const saved = parseInt(localStorage.getItem('playtime_' + slug) || '0', 10);
           updatePlaytimeCounter(formatSeconds(saved));
         
           if (playtimeInterval) clearInterval(playtimeInterval);
         
           function refreshChart() { getPlaytimeDays(slug).then(drawPlaytimeChart);}
           refreshChart();
         
           playtimeInterval = setInterval(() => {
             if (document.hasFocus()) {
               let playtime = parseInt(localStorage.getItem('playtime_' + slug) || '0', 10);
               playtime++;
               localStorage.setItem('playtime_' + slug, playtime);
               updatePlaytimeCounter(formatSeconds(playtime));
               updatePlaytimeToday(slug);
               if (playtime % 10 === 1) refreshChart();
             }
           }, 1000);
         
           window.addEventListener('focus', refreshChart);
         }
         
         // --- MAIN LOADING ---
         fetch(gamesUrl)
           .then(r => r.json())
           .then(games => {
             const game = games.find(g => g.url === slug);
             if (!game) return showNotFound();
         
             document.getElementById("gameTitle").textContent = game.name;
             document.getElementById("gameAuthor").textContent = game.author ? "By " + game.author : "";
             document.getElementById("frame").src = `/GameList.github.io/${game.url}/index.html`;
             document.getElementById("descDetails").textContent = game.gamedesc || "No description provided.";
         
             // Update Recently Played
             addRecentlyPlayed(game);
             loadRecentlyPlayed(slug, games);
         
             // ... recommendations as before ...
             let recTags = (game.tags || []).map(x => x.toLowerCase());
             let recommendations = games.filter(g2 =>
               g2.url !== game.url &&
               Array.isArray(g2.tags) &&
               g2.tags.some(tag => recTags.includes((tag || '').toLowerCase()))
             );
         
             recommendations = recommendations
               .map(g2=>({
                 ...g2,
                 matchCount: g2.tags.filter(t=>recTags.includes(t.toLowerCase())).length
               }))
               .sort((a,b)=>b.matchCount - a.matchCount)
               .slice(0, 4);
         
             const recList = document.getElementById('recommendedList');
             recList.innerHTML = "";
         
             if (recommendations.length === 0) {
               recList.innerHTML = `<span style='color:#f4b690;font-style:italic;font-size:1em;'>No related games found.</span>`;
             } else {
               recommendations.forEach(g2 => {
                 const thumbUrl = g2.thumb || "../assets/img/icon/main.png";
                 const el = document.createElement("a");
                 el.className = "recommend-game-link";
                 el.href = `play.html?game=${encodeURIComponent(g2.url)}`;
                 el.innerHTML = `
                   <img class="recommend-thumb" src="${thumbUrl}" alt="${g2.name} icon" loading="lazy">
                   <span>${g2.name}</span>
                 `;
                 recList.appendChild(el);
               });
             }
             // Playtime
             loadAndShowPlaytime(slug);
             getPlaytimeDays(slug).then(drawPlaytimeChart);
           })
           .catch(showNotFound);
         
         const minsAgo = Math.floor((Date.now() - g.time)/60000);
         const lastPlayed = minsAgo < 1 ? "Just now" : (minsAgo < 60 ? `${minsAgo}m ago` : `${Math.floor(minsAgo/60)}h ago`);
         a.innerHTML += `<div class="recent-last-played">${lastPlayed}</div>`;
      </script>
   </body>
</html>